---
phase: 08-i18n-backup-admin-polish
plan: 04
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - frontend/src/i18n/locales/en/dashboard.json
  - frontend/src/i18n/locales/en/settings.json
  - frontend/src/i18n/locales/en/library.json
  - frontend/src/i18n/locales/en/logs.json
  - frontend/src/i18n/locales/en/statistics.json
  - frontend/src/i18n/locales/de/dashboard.json
  - frontend/src/i18n/locales/de/settings.json
  - frontend/src/i18n/locales/de/library.json
  - frontend/src/i18n/locales/de/logs.json
  - frontend/src/i18n/locales/de/statistics.json
  - frontend/src/i18n/index.ts
  - frontend/src/components/layout/Sidebar.tsx
  - frontend/src/pages/Dashboard.tsx
  - frontend/src/pages/Settings.tsx
  - frontend/src/pages/Logs.tsx
  - frontend/src/pages/Library.tsx
  - frontend/src/pages/Wanted.tsx
  - frontend/src/pages/SeriesDetail.tsx
  - frontend/src/pages/Statistics.tsx
autonomous: true

must_haves:
  truths:
    - "Sidebar navigation labels change when language is switched to German"
    - "Dashboard page text is fully translated when language is German"
    - "Settings page tab names and field labels change with language"
    - "Logs page title and controls are translated"
    - "Library and Wanted page titles and UI elements are translated"
    - "Statistics page title, range labels, and chart titles are translated"
    - "No hardcoded English strings remain in Sidebar, Dashboard, Settings, Logs, Library, Wanted, SeriesDetail, or Statistics"
  artifacts:
    - path: "frontend/src/i18n/locales/en/dashboard.json"
      provides: "English Dashboard translations"
      contains: "title"
    - path: "frontend/src/i18n/locales/de/dashboard.json"
      provides: "German Dashboard translations"
      contains: "title"
    - path: "frontend/src/i18n/locales/en/settings.json"
      provides: "English Settings translations"
      contains: "tabs"
    - path: "frontend/src/i18n/locales/de/settings.json"
      provides: "German Settings translations"
      contains: "tabs"
    - path: "frontend/src/i18n/locales/en/library.json"
      provides: "English Library/Wanted/SeriesDetail translations"
      contains: "title"
    - path: "frontend/src/i18n/locales/de/library.json"
      provides: "German Library/Wanted/SeriesDetail translations"
      contains: "title"
    - path: "frontend/src/i18n/locales/en/logs.json"
      provides: "English Logs translations"
      contains: "title"
    - path: "frontend/src/i18n/locales/de/logs.json"
      provides: "German Logs translations"
      contains: "title"
    - path: "frontend/src/i18n/locales/en/statistics.json"
      provides: "English Statistics translations"
      contains: "title"
    - path: "frontend/src/i18n/locales/de/statistics.json"
      provides: "German Statistics translations"
      contains: "title"
  key_links:
    - from: "frontend/src/pages/Dashboard.tsx"
      to: "frontend/src/i18n/locales/en/dashboard.json"
      via: "useTranslation('dashboard')"
      pattern: "useTranslation.*dashboard"
    - from: "frontend/src/pages/Settings.tsx"
      to: "frontend/src/i18n/locales/en/settings.json"
      via: "useTranslation('settings')"
      pattern: "useTranslation.*settings"
    - from: "frontend/src/components/layout/Sidebar.tsx"
      to: "frontend/src/i18n/locales/en/common.json"
      via: "useTranslation('common') for nav labels"
      pattern: "useTranslation"
---

<objective>
Wrap all user-visible strings in the core pages (Sidebar, Dashboard, Settings, Logs, Library, Wanted, SeriesDetail, Statistics) with i18n t() calls and create corresponding EN/DE translation JSON files.

Purpose: This is the bulk of the i18n work for the most-used pages. After this plan, the core user experience is fully translatable between English and German.
Output: 10 new JSON translation files, 8 page components updated with useTranslation hooks.
</objective>

<execution_context>
@C:/Users/Dennis Wittke/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Dennis Wittke/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-i18n-backup-admin-polish/08-RESEARCH.md
@.planning/phases/08-i18n-backup-admin-polish/08-01-SUMMARY.md
@frontend/src/i18n/index.ts
@frontend/src/i18n/locales/en/common.json
@frontend/src/components/layout/Sidebar.tsx
@frontend/src/pages/Dashboard.tsx
@frontend/src/pages/Settings.tsx
@frontend/src/pages/Logs.tsx
@frontend/src/pages/Library.tsx
@frontend/src/pages/Wanted.tsx
@frontend/src/pages/SeriesDetail.tsx
@frontend/src/pages/Statistics.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create EN/DE JSON files for dashboard, settings, library, logs, statistics namespaces</name>
  <files>
    frontend/src/i18n/locales/en/dashboard.json
    frontend/src/i18n/locales/en/settings.json
    frontend/src/i18n/locales/en/library.json
    frontend/src/i18n/locales/en/logs.json
    frontend/src/i18n/locales/en/statistics.json
    frontend/src/i18n/locales/de/dashboard.json
    frontend/src/i18n/locales/de/settings.json
    frontend/src/i18n/locales/de/library.json
    frontend/src/i18n/locales/de/logs.json
    frontend/src/i18n/locales/de/statistics.json
    frontend/src/i18n/index.ts
  </files>
  <action>
Create translation JSON files for each namespace. Read the corresponding page component FIRST to identify every hardcoded English string, then create keys for them.

**Process for each page:** Read the .tsx file, find every string literal in JSX (inside `>text<` or `label="text"` or `placeholder="text"`), create a JSON key structure, then create both en and de files.

**en/dashboard.json:**
Extract from Dashboard.tsx all text: page title, stat card labels, quick action buttons, section headings, empty states, etc. Structure as:
```json
{
  "title": "Dashboard",
  "stats": {
    "translated_today": "Translated Today",
    "total_translated": "Total Translated",
    "total_failed": "Total Failed",
    "total_skipped": "Total Skipped",
    "pending_jobs": "Pending Jobs",
    "uptime": "Uptime"
  },
  "quick_actions": {
    "title": "Quick Actions",
    "scan_wanted": "Scan Wanted",
    "search_providers": "Search Providers",
    "refresh": "Refresh"
  },
  "recent_activity": {
    "title": "Recent Activity",
    "no_activity": "No recent activity",
    "view_all": "View All"
  },
  "providers": {
    "title": "Provider Status",
    "healthy": "healthy",
    "total": "total"
  }
}
```

**de/dashboard.json:** German translations:
- "Dashboard" stays "Dashboard", "Translated Today" -> "Heute uebersetzt", "Total Translated" -> "Gesamt uebersetzt", "Total Failed" -> "Gesamt fehlgeschlagen", "Total Skipped" -> "Gesamt uebersprungen", "Pending Jobs" -> "Ausstehende Aufgaben", "Uptime" -> "Laufzeit"
- "Quick Actions" -> "Schnellaktionen", "Scan Wanted" -> "Gesucht scannen", "Search Providers" -> "Provider durchsuchen"
- "Recent Activity" -> "Letzte Aktivitaet", "No recent activity" -> "Keine aktuelle Aktivitaet", "View All" -> "Alle anzeigen"
- "Provider Status" -> "Provider-Status", "healthy" -> "gesund", "total" -> "gesamt"

**en/settings.json:**
Extract ALL tab names, field labels, button texts, section headings, descriptions, and placeholders from Settings.tsx. This is the largest file. Structure as:
```json
{
  "title": "Settings",
  "tabs": {
    "general": "General",
    "translation": "Translation",
    "translation_backends": "Translation Backends",
    "languages": "Languages",
    "automation": "Automation",
    "wanted": "Wanted",
    "providers": "Providers",
    "sonarr": "Sonarr",
    "radarr": "Radarr",
    "library_sources": "Library Sources",
    "media_servers": "Media Servers",
    "whisper": "Whisper",
    "events_hooks": "Events & Hooks",
    "scoring": "Scoring",
    "notifications": "Notifications",
    "prompt_presets": "Prompt Presets",
    "backup": "Backup",
    "subtitle_tools": "Subtitle Tools"
  },
  "general": {
    "port": "Port",
    "api_key": "API Key",
    "log_level": "Log Level",
    "media_path": "Media Path",
    "db_path": "Database Path"
  },
  "actions": {
    "save": "Save",
    "test": "Test",
    "test_connection": "Test Connection",
    "create_backup": "Create Full Backup",
    "restore": "Restore",
    "download": "Download",
    "upload": "Upload",
    "reset_defaults": "Reset to Defaults"
  },
  "backup": {
    "title": "Backup & Restore",
    "create": "Create Full Backup",
    "creating": "Creating backup...",
    "restore_file": "Restore from File",
    "restore_warning": "API keys will need to be re-entered after restore.",
    "list_title": "Available Backups",
    "no_backups": "No backups found",
    "filename": "Filename",
    "size": "Size",
    "created": "Created",
    "auto_backup": "Automatic Backups",
    "retention_daily": "Daily Retention",
    "retention_weekly": "Weekly Retention",
    "retention_monthly": "Monthly Retention"
  },
  "tools": {
    "title": "Subtitle Processing Tools",
    "remove_hi": "Remove HI Markers",
    "remove_hi_desc": "Remove hearing-impaired markers ([Music], [Laughing], etc.)",
    "adjust_timing": "Adjust Timing",
    "adjust_timing_desc": "Shift all subtitle timestamps by a time offset",
    "common_fixes": "Common Fixes",
    "common_fixes_desc": "Fix encoding, whitespace, and line break issues",
    "preview": "Preview File",
    "file_path": "File Path",
    "offset_ms": "Offset (ms)",
    "delay": "Delay",
    "advance": "Advance",
    "fix_encoding": "Fix Encoding",
    "fix_whitespace": "Fix Whitespace",
    "fix_linebreaks": "Fix Line Breaks",
    "fix_empty_lines": "Remove Empty Lines",
    "backup_note": "A backup (.bak) is created before any modification."
  }
}
```
(Include ALL field labels from FIELDS array for each tab section. This is extensive -- read Settings.tsx fully to catch every string.)

**de/settings.json:** German translations for all settings strings. Keep technical terms that are commonly used in German tech context: "Port", "API Key", "Webhook", "Provider", "Sonarr", "Radarr", "Whisper" stay as-is. Translate UI labels: "General" -> "Allgemein", "Translation" -> "Uebersetzung", "Languages" -> "Sprachen", etc.

**en/library.json:** (covers Library, Wanted, SeriesDetail)
```json
{
  "title": "Library",
  "search_placeholder": "Search series...",
  "no_results": "No series found",
  "series_count": "{{count}} series",
  "wanted": {
    "title": "Wanted",
    "missing_subs": "Missing Subtitles",
    "search": "Search",
    "process": "Process",
    "batch_search": "Batch Search",
    "no_wanted": "No wanted items",
    "found": "Found",
    "not_found": "Not Found"
  },
  "series_detail": {
    "episodes": "Episodes",
    "season": "Season {{number}}",
    "episode": "Episode {{number}}",
    "subtitle_status": "Subtitle Status",
    "translate": "Translate",
    "download": "Download",
    "no_episodes": "No episodes found"
  }
}
```

**de/library.json:** Translate all. "Library" -> "Bibliothek", "Wanted" -> "Gesucht", "Missing Subtitles" -> "Fehlende Untertitel", "Episodes" -> "Episoden", "Season" -> "Staffel", "Episode" -> "Episode", "Translate" -> "Uebersetzen", "Download" -> "Herunterladen"

**en/logs.json:**
```json
{
  "title": "Logs",
  "level_filter": "Level",
  "all_levels": "All",
  "search_placeholder": "Search logs...",
  "auto_scroll": "Auto-scroll",
  "pause": "Pause",
  "resume": "Resume",
  "download": "Download Log",
  "rotation": {
    "title": "Log Rotation",
    "max_size": "Max Size (MB)",
    "backup_count": "Backup Count",
    "restart_note": "Changes take effect on next restart."
  },
  "no_logs": "No log entries found"
}
```

**de/logs.json:** "Logs" -> "Protokolle", "Level" -> "Stufe", "All" -> "Alle", "Search logs..." -> "Protokolle durchsuchen...", "Auto-scroll" -> "Auto-Scrollen", "Pause" -> "Pause", "Resume" -> "Fortsetzen", "Download Log" -> "Protokoll herunterladen", etc.

**en/statistics.json:**
```json
{
  "title": "Statistics",
  "range": {
    "7d": "7 Days",
    "30d": "30 Days",
    "90d": "90 Days",
    "365d": "1 Year"
  },
  "export": "Export",
  "export_json": "Export as JSON",
  "export_csv": "Export as CSV",
  "charts": {
    "translations": "Translations Over Time",
    "translated": "Translated",
    "failed": "Failed",
    "providers": "Provider Usage",
    "searches": "Searches",
    "downloads": "Downloads",
    "format": "Subtitle Format Distribution",
    "downloads_by_provider": "Downloads by Provider",
    "count": "Count",
    "avg_score": "Avg. Score"
  },
  "no_data": "No statistics data available yet."
}
```

**de/statistics.json:** "Statistics" -> "Statistiken", "Translations Over Time" -> "Uebersetzungen im Zeitverlauf", "Provider Usage" -> "Provider-Nutzung", etc.

**Update i18n/index.ts:**
Add static imports for all 10 new JSON files (5 en + 5 de). Add them to the resources object under their respective language and namespace keys.
  </action>
  <verify>
1. `cd frontend && npx tsc --noEmit` -- no TypeScript errors
2. `cd frontend && npm run build` -- builds successfully
3. All JSON files are valid JSON (no trailing commas, proper quoting)
  </verify>
  <done>
- 10 translation JSON files created (5 en, 5 de)
- All JSON files have matching key structures between en and de
- i18n/index.ts updated with all static imports
- EN files contain all user-visible strings from core pages
- DE files contain proper German translations with domain-appropriate terms
  </done>
</task>

<task type="auto">
  <name>Task 2: Wrap Sidebar, Dashboard, Settings, Logs, Library, Wanted, SeriesDetail, Statistics with useTranslation</name>
  <files>
    frontend/src/components/layout/Sidebar.tsx
    frontend/src/pages/Dashboard.tsx
    frontend/src/pages/Settings.tsx
    frontend/src/pages/Logs.tsx
    frontend/src/pages/Library.tsx
    frontend/src/pages/Wanted.tsx
    frontend/src/pages/SeriesDetail.tsx
    frontend/src/pages/Statistics.tsx
  </files>
  <action>
For EACH file: import `useTranslation` from 'react-i18next', add `const { t } = useTranslation('namespace')` at the top of the component, then replace EVERY hardcoded string literal in JSX with `t('key')`.

**Critical rules:**
- NEVER remove existing functionality -- only wrap strings
- Use the EXACT keys that match the JSON files from Task 1
- For strings in sub-components or callbacks, either pass `t` as a prop or use `useTranslation` in that sub-component
- For dynamic values with interpolation: `t('key', { count: value })` pattern
- The common namespace is available as fallback -- use `t('common:actions.save')` for shared terms or import both namespaces: `const { t } = useTranslation(['settings', 'common'])`

**Sidebar.tsx:**
- Import `useTranslation` from 'react-i18next'
- Add `const { t } = useTranslation('common')` inside the Sidebar component
- Replace `navGroups` hardcoded strings:
  - Group titles: `group.title` -> use t() for each: `t('nav_groups.content')`, `t('nav_groups.activity')`, `t('nav_groups.system')`
  - Item labels: `item.label` -> use t() for each: `t('nav.dashboard')`, `t('nav.library')`, etc.
  - The simplest approach: change `navGroups` from a static const to a function that takes `t` and returns the groups, OR move it inside the component. Since the data structure includes icons (which are React components), keep the structure but make `label` and `title` use t() keys.
  - Footer: "Online"/"Offline" -> `t('app.online')` / `t('app.offline')`
  - Keep "Sublarr" brand name untranslated (it's a product name)

**Dashboard.tsx:**
- Add `const { t } = useTranslation('dashboard')`
- Page title `<h1>` -> `t('title')`
- StatCard labels -> `t('stats.translated_today')`, etc.
- Quick action button text -> `t('quick_actions.scan_wanted')`, etc.
- Section headings -> `t('recent_activity.title')`, `t('providers.title')`, etc.
- Empty states -> `t('recent_activity.no_activity')`

**Settings.tsx:**
- Add `const { t } = useTranslation(['settings', 'common'])`
- TABS array: Make tab labels translatable. Change TABS from a string array to use `t('tabs.general')`, etc. The simplest approach: create a function `getTabLabel(tab: string)` that maps internal tab IDs to `t('tabs.id')`. Or change TABS to be objects with `{ id: string, label: string }` where label comes from `t()`.
- FIELDS array labels: Each field's `label` should be wrapped. Since FIELDS is a static const, the simplest approach is to use the field's `key` as a translation key: `t('settings:general.port')` etc., and look up the label dynamically.
- All button text: "Save" -> `t('common:actions.save')`, "Test" -> `t('common:actions.test')`, etc.
- Backup tab text: Use `t('backup.create')`, `t('backup.list_title')`, etc.
- Subtitle Tools tab text: Use `t('tools.title')`, `t('tools.remove_hi')`, etc.
- Section headings and descriptions in each tab
- Toast messages can stay in English for now (they are ephemeral)

**Logs.tsx:**
- Add `const { t } = useTranslation('logs')`
- Page title -> `t('title')`
- Level filter labels -> `t('all_levels')` for ALL, level names can stay (DEBUG/INFO/WARNING/ERROR are technical terms)
- Search placeholder -> `t('search_placeholder')`
- Auto-scroll toggle label -> `t('auto_scroll')`
- Download button -> `t('download')`
- Rotation section -> `t('rotation.title')`, `t('rotation.max_size')`, etc.

**Library.tsx:**
- Add `const { t } = useTranslation('library')`
- Page title -> `t('title')`
- Search placeholder, empty state, series count
- Any filter labels or status text

**Wanted.tsx:**
- Add `const { t } = useTranslation('library')` (uses library namespace, wanted section)
- Page title -> `t('wanted.title')`
- Button text: search, process, batch search
- Status labels: found, not found
- Empty state

**SeriesDetail.tsx:**
- Add `const { t } = useTranslation('library')`
- Season/episode labels using interpolation: `t('series_detail.season', { number: s.season_number })`
- Action buttons: translate, download
- Section headings

**Statistics.tsx:**
- Add `const { t } = useTranslation('statistics')`
- Page title -> `t('title')`
- Range filter labels -> `t('range.7d')`, etc.
- Chart card titles -> `t('charts.translations')`, etc.
- Export button text -> `t('export')`, `t('export_json')`, `t('export_csv')`
- Empty state -> `t('no_data')`
  </action>
  <verify>
1. `cd frontend && npx tsc --noEmit` -- no TypeScript errors
2. `cd frontend && npm run build` -- builds successfully
3. Open app in English: all text appears as before (no raw keys visible)
4. Switch to German: Sidebar labels, Dashboard text, Settings tabs, Logs title, Library/Wanted text all change to German
5. No missing translation console warnings for the wrapped namespaces
  </verify>
  <done>
- All 8 core pages/components wrapped with useTranslation hooks
- Every user-visible string replaced with t() calls
- English appearance unchanged (keys match exact current text)
- German translations display correctly for all wrapped strings
- No TypeScript errors or build failures
  </done>
</task>

</tasks>

<verification>
1. `cd frontend && npm run build` succeeds
2. App loads in English: all pages display correctly with no visible translation keys
3. Switch language to German: Sidebar, Dashboard, Settings, Logs, Library, Wanted, SeriesDetail, Statistics all show German text
4. Switch back to English: all text returns to English
5. No console warnings about missing i18next keys for these namespaces
6. Settings TABS array still functions (tab switching works)
7. Dynamic interpolation works: "Season 1", "3 series" display correctly in both languages
</verification>

<success_criteria>
- I18N-02 (English Base Translation): All core pages have EN JSON files with complete string coverage -- COMPLETE
- I18N-03 (German Translation): All core pages have DE JSON files with correct German terms -- COMPLETE (for core pages)
- Sidebar navigation labels translate between EN and DE
- Dashboard, Settings, Logs, Library, Wanted, SeriesDetail, Statistics are fully internationalized
</success_criteria>

<output>
After completion, create `.planning/phases/08-i18n-backup-admin-polish/08-04-SUMMARY.md`
</output>
