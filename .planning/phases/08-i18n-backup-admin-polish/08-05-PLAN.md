---
phase: 08-i18n-backup-admin-polish
plan: 05
type: execute
wave: 3
depends_on: ["08-01", "08-03", "08-04"]
files_modified:
  - frontend/src/i18n/locales/en/activity.json
  - frontend/src/i18n/locales/en/onboarding.json
  - frontend/src/i18n/locales/de/activity.json
  - frontend/src/i18n/locales/de/onboarding.json
  - frontend/src/i18n/index.ts
  - frontend/src/pages/Activity.tsx
  - frontend/src/pages/Queue.tsx
  - frontend/src/pages/History.tsx
  - frontend/src/pages/Blacklist.tsx
  - frontend/src/pages/Onboarding.tsx
  - frontend/src/components/shared/StatusBadge.tsx
  - frontend/src/components/shared/Toast.tsx
autonomous: true

must_haves:
  truths:
    - "Activity page text is fully translated when language is German"
    - "Queue page text is fully translated when language is German"
    - "History page text is fully translated when language is German"
    - "Blacklist page text is fully translated when language is German"
    - "Onboarding wizard text is fully translated when language is German"
    - "StatusBadge labels are translated"
    - "The ENTIRE UI has no remaining hardcoded English strings (excluding brand names and technical terms)"
  artifacts:
    - path: "frontend/src/i18n/locales/en/activity.json"
      provides: "English Activity/Queue/History/Blacklist translations"
      contains: "title"
    - path: "frontend/src/i18n/locales/de/activity.json"
      provides: "German Activity/Queue/History/Blacklist translations"
      contains: "title"
    - path: "frontend/src/i18n/locales/en/onboarding.json"
      provides: "English Onboarding wizard translations"
      contains: "welcome"
    - path: "frontend/src/i18n/locales/de/onboarding.json"
      provides: "German Onboarding wizard translations"
      contains: "welcome"
  key_links:
    - from: "frontend/src/pages/Activity.tsx"
      to: "frontend/src/i18n/locales/en/activity.json"
      via: "useTranslation('activity')"
      pattern: "useTranslation.*activity"
    - from: "frontend/src/pages/Onboarding.tsx"
      to: "frontend/src/i18n/locales/en/onboarding.json"
      via: "useTranslation('onboarding')"
      pattern: "useTranslation.*onboarding"
---

<objective>
Complete the i18n coverage by wrapping all remaining pages (Activity, Queue, History, Blacklist, Onboarding) and shared components (StatusBadge, Toast) with translation hooks. After this plan, the entire UI is internationalized.

Purpose: This is the final i18n plan, covering the Activity group pages and Onboarding wizard. Combined with Plan 04, this achieves 100% i18n coverage for I18N-02 and I18N-03.
Output: 4 new JSON translation files, 7 component files updated with useTranslation.
</objective>

<execution_context>
@C:/Users/Dennis Wittke/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Dennis Wittke/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-i18n-backup-admin-polish/08-RESEARCH.md
@.planning/phases/08-i18n-backup-admin-polish/08-01-SUMMARY.md
@.planning/phases/08-i18n-backup-admin-polish/08-04-SUMMARY.md
@frontend/src/i18n/index.ts
@frontend/src/i18n/locales/en/common.json
@frontend/src/pages/Activity.tsx
@frontend/src/pages/Queue.tsx
@frontend/src/pages/History.tsx
@frontend/src/pages/Blacklist.tsx
@frontend/src/pages/Onboarding.tsx
@frontend/src/components/shared/StatusBadge.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create EN/DE JSON files for activity and onboarding namespaces</name>
  <files>
    frontend/src/i18n/locales/en/activity.json
    frontend/src/i18n/locales/en/onboarding.json
    frontend/src/i18n/locales/de/activity.json
    frontend/src/i18n/locales/de/onboarding.json
    frontend/src/i18n/index.ts
  </files>
  <action>
Read each page component first to identify every hardcoded string, then create JSON files.

**en/activity.json:** (covers Activity, Queue, History, Blacklist pages)
Read Activity.tsx, Queue.tsx, History.tsx, Blacklist.tsx and extract all user-visible text. Structure as:
```json
{
  "title": "Activity",
  "no_activity": "No active jobs",
  "job": {
    "status": "Status",
    "file": "File",
    "started": "Started",
    "duration": "Duration",
    "cancel": "Cancel",
    "retry": "Retry"
  },
  "queue": {
    "title": "Queue",
    "position": "Position",
    "pending": "Pending",
    "processing": "Processing",
    "no_items": "Queue is empty",
    "clear": "Clear Queue"
  },
  "history": {
    "title": "History",
    "provider": "Provider",
    "language": "Language",
    "format": "Format",
    "score": "Score",
    "date": "Date",
    "no_history": "No download history",
    "clear": "Clear History",
    "export": "Export"
  },
  "blacklist": {
    "title": "Blacklist",
    "series": "Series",
    "episode": "Episode",
    "provider": "Provider",
    "reason": "Reason",
    "added": "Added",
    "remove": "Remove",
    "no_items": "Blacklist is empty",
    "clear": "Clear Blacklist"
  }
}
```
(Read the actual components to capture all strings -- the above is a starting structure. Add any missing keys for tooltips, status labels, confirmation dialogs, filter labels, etc.)

**de/activity.json:**
- "Activity" -> "Aktivitaet", "No active jobs" -> "Keine aktiven Aufgaben"
- "Queue" -> "Warteschlange", "Queue is empty" -> "Warteschlange ist leer"
- "History" -> "Verlauf", "No download history" -> "Kein Download-Verlauf"
- "Blacklist" -> "Sperrliste", "Blacklist is empty" -> "Sperrliste ist leer"
- "Provider", "Score", "Format" stay as-is (technical terms)
- "Remove" -> "Entfernen", "Clear" -> "Leeren", "Export" -> "Exportieren"

**en/onboarding.json:**
Read Onboarding.tsx and extract all strings from the wizard steps. Structure as:
```json
{
  "welcome": {
    "title": "Welcome to Sublarr",
    "subtitle": "Let's set up your subtitle automation",
    "get_started": "Get Started"
  },
  "steps": {
    "general": "General Setup",
    "sonarr": "Sonarr Connection",
    "radarr": "Radarr Connection",
    "paths": "Path Mapping",
    "media_server": "Media Server",
    "standalone": "Standalone Mode",
    "translation": "Translation Setup",
    "complete": "Setup Complete"
  },
  "general_step": { ... },
  "sonarr_step": { ... },
  "radarr_step": { ... },
  "standalone_step": { ... },
  "translation_step": { ... },
  "complete_step": {
    "title": "Setup Complete!",
    "message": "Sublarr is ready to manage your subtitles.",
    "go_dashboard": "Go to Dashboard"
  },
  "navigation": {
    "next": "Next",
    "back": "Back",
    "skip": "Skip",
    "finish": "Finish"
  }
}
```
(Read Onboarding.tsx fully to capture all step titles, descriptions, field labels, help text, error messages.)

**de/onboarding.json:**
- "Welcome to Sublarr" -> "Willkommen bei Sublarr"
- "Let's set up your subtitle automation" -> "Lass uns deine Untertitel-Automatisierung einrichten"
- "Get Started" -> "Los geht's"
- "Setup Complete!" -> "Einrichtung abgeschlossen!"
- "Go to Dashboard" -> "Zum Dashboard"
- "Next" -> "Weiter", "Back" -> "Zurueck", "Skip" -> "Ueberspringen", "Finish" -> "Abschliessen"

**Update i18n/index.ts:**
Add static imports for the 4 new JSON files (2 en + 2 de). Add them to the resources object.
  </action>
  <verify>
1. `cd frontend && npx tsc --noEmit` -- no TypeScript errors
2. All JSON files are valid JSON
3. EN and DE files have matching key structures
  </verify>
  <done>
- 4 translation JSON files created (2 en, 2 de)
- Activity namespace covers Activity, Queue, History, Blacklist
- Onboarding namespace covers all wizard steps
- i18n/index.ts updated with imports
  </done>
</task>

<task type="auto">
  <name>Task 2: Wrap Activity, Queue, History, Blacklist, Onboarding, StatusBadge with useTranslation</name>
  <files>
    frontend/src/pages/Activity.tsx
    frontend/src/pages/Queue.tsx
    frontend/src/pages/History.tsx
    frontend/src/pages/Blacklist.tsx
    frontend/src/pages/Onboarding.tsx
    frontend/src/components/shared/StatusBadge.tsx
    frontend/src/components/shared/Toast.tsx
  </files>
  <action>
Same pattern as Plan 04 Task 2: import useTranslation, add hook call, replace all hardcoded strings with t() calls.

**Activity.tsx:**
- `const { t } = useTranslation('activity')`
- Page title, table headers, status labels, empty state, action buttons
- Job status text (completed, failed, running, queued) -> use common namespace: `t('common:status.completed')` etc.

**Queue.tsx:**
- `const { t } = useTranslation('activity')` (uses activity namespace, queue section)
- Page title -> `t('queue.title')`
- Position, pending/processing labels, empty state, clear button

**History.tsx:**
- `const { t } = useTranslation('activity')`
- Page title -> `t('history.title')`
- Table column headers, empty state, clear/export buttons
- Date formatting can stay locale-agnostic for now (ISO dates)

**Blacklist.tsx:**
- `const { t } = useTranslation('activity')`
- Page title -> `t('blacklist.title')`
- Table headers, empty state, remove/clear buttons

**Onboarding.tsx:**
- `const { t } = useTranslation('onboarding')`
- Welcome screen title, subtitle, get started button
- Step names in progress indicator
- Each step's content: titles, descriptions, field labels, help text
- Navigation buttons: next, back, skip, finish
- Complete step: title, message, dashboard button

**StatusBadge.tsx:**
- Import useTranslation
- Status text labels (healthy, unhealthy, online, offline, etc.) should use `t('common:status.xxx')`
- If StatusBadge receives a status string prop and renders it directly, wrap the rendering with a translation lookup
- Be careful: if the status string comes from the API (e.g., "healthy"), create a mapping from API values to translation keys

**Toast.tsx:**
- Toast messages are typically set by the calling component, so Toast.tsx itself may not need changes
- If Toast has any default/built-in text (like "Dismiss" button), wrap those with t()
- If no built-in text, skip this file

**Final sweep:**
After wrapping all files, search the codebase for any remaining hardcoded user-visible strings in JSX across ALL frontend/src/ files. Acceptable untranslated strings:
- Brand names: "Sublarr", "Sonarr", "Radarr", "Jellyfin", "Plex", "Kodi"
- Technical terms: "ASS", "SRT", "API", "URL", "WebSocket", "JSON", "CSV"
- Provider names: "AnimeTosho", "Jimaku", "OpenSubtitles", etc.
- Log level names: "DEBUG", "INFO", "WARNING", "ERROR"
- Format strings that are data (dates, numbers, paths)

Everything else should use t().
  </action>
  <verify>
1. `cd frontend && npx tsc --noEmit` -- no TypeScript errors
2. `cd frontend && npm run build` -- builds successfully
3. Open app in English: Activity, Queue, History, Blacklist, Onboarding all display correctly
4. Switch to German: all pages display German text
5. StatusBadge labels change between EN and DE
6. No console warnings about missing i18next keys
7. Search for hardcoded strings: `grep -r '">' frontend/src/pages/ --include="*.tsx"` -- verify no untranslated user-facing text remains
  </verify>
  <done>
- Activity, Queue, History, Blacklist pages fully internationalized
- Onboarding wizard fully internationalized
- StatusBadge uses translated labels
- Complete i18n coverage across the entire frontend
- No remaining hardcoded English strings in user-facing components
  </done>
</task>

</tasks>

<verification>
1. `cd frontend && npm run build` succeeds
2. Toggle to German: every page in the app shows German text
3. Toggle back to English: every page returns to English
4. Onboarding wizard flows correctly in both languages
5. StatusBadge labels translate
6. No missing translation key warnings in browser console
7. Language preference persists across page reloads
</verification>

<success_criteria>
- I18N-02 (English Base Translation): ALL pages have EN translations -- COMPLETE
- I18N-03 (German Translation): ALL pages have DE translations with correct domain terms -- COMPLETE
- The entire UI switches seamlessly between English and German
- No hardcoded English text remains in any user-facing component
- Phase 8 Success Criteria #1: "User can switch the entire UI between English and German, with the preference persisted across sessions" -- VERIFIED
</success_criteria>

<output>
After completion, create `.planning/phases/08-i18n-backup-admin-polish/08-05-SUMMARY.md`
</output>
